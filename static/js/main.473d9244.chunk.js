(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(50),i=a.n(l),r=a(9),o=(a(83),a(3)),s=a(4),m=a(7),u=a(5),d=a(6),h=a(51),p=a.n(h);a(35);p.a.initializeApp({apiKey:"AIzaSyB7jexNL-0D-nCMDLQHEwmpkg4gqLSoIXg",authDomain:"miti-nwpa.firebaseapp.com",databaseURL:"https://miti-nwpa.firebaseio.com",projectId:"miti-nwpa",storageBucket:"miti-nwpa.appspot.com",messagingSenderId:"10925300068"});var v=p.a,b=a(69),E=(a(153),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(b.slide,null,c.a.createElement("a",{className:"menu-item",href:"/home"},"Home"),c.a.createElement("a",{className:"menu-item",href:"/activity"},"Activity"),c.a.createElement("a",{className:"menu-item",href:"/activityenter"},"Activity Enter"),c.a.createElement("a",{className:"menu-item",href:"/listdockets"},"Dockets"),c.a.createElement("a",{className:"menu-item",href:"/approval"},"Approval"),c.a.createElement("a",{className:"menu-item",href:"/docketdetailsapproval"},"Docket Details Approval"),c.a.createElement("a",{className:"menu-item",href:"/dashboard"},"Dashboard"),c.a.createElement("a",{className:"menu-item",href:"/listdocketsengineer"},"List Dockets Engineer"))}}]),t}(n.Component)),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={pageName:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"nav"},c.a.createElement("div",{className:"nav_ham"},c.a.createElement(E,null)),c.a.createElement("div",{className:"nav_sidebar"},c.a.createElement("h4",null,this.props.pageName)))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={user:"",email:"",password:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"loginbg"},c.a.createElement(f,{pageName:"JHG DMS"}),c.a.createElement("div",{className:"login"},c.a.createElement("h4",{id:"login"},"Welcome to DMS"),c.a.createElement("input",{className:"login",type:"text",name:"uName",placeholder:"Username"}),c.a.createElement("input",{className:"login",type:"password",name:"pName",placeholder:"Password"}),c.a.createElement("br",null),c.a.createElement(r.a,{to:"/home"},c.a.createElement("button",{id:"login"},"Login")),c.a.createElement("span",null,c.a.createElement("h6",null,"Forgot Password"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=v.firestore().collection("user").doc("joe"),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={companyName:null,firstName:"",lastName:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;N.get().then(function(t){console.log(t.data().lastName),e.setState({companyName:t.data().companyName,firstName:t.data().firstName,lastName:t.data().lastName})})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Home"}),c.a.createElement("div",{className:"home"},"Welcome ",this.state.firstName,"  ",this.state.lastName,c.a.createElement("h4",null,"Active Sites"),c.a.createElement("br",null),c.a.createElement(r.a,{to:"/activity"},c.a.createElement("button",null,"High Street")),c.a.createElement("br",null),c.a.createElement(r.a,{to:"/activity"},c.a.createElement("button",null,"Skye Road"))))}}]),t}(n.Component),g=a(2),C=v.firestore().collection("activity"),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={items:[]},a.renderActivityList=a.renderActivityList.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;C.onSnapshot(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({items:a,loaded:!0})})}},{key:"renderActivityList",value:function(){var e=this.state.items.map(function(e,t){return c.a.createElement("li",{key:e.id,id:e.id},e.activityName,c.a.createElement("br",null),e.site,c.a.createElement("br",null),"Assigned Company ",e.company,c.a.createElement("br",null),c.a.createElement("button",{className:"list",onClick:function(){return Object(r.c)("/docketentry/".concat(e.id))}},"Select"))});return c.a.createElement("div",null,e)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Activity Selection"}),c.a.createElement("h4",null,"This is Activity Selection"),c.a.createElement("div",null,this.renderActivityList()))}}]),t}(c.a.Component),O=a(8),D=v.firestore().collection("activity"),S={color:"blue",border:"10px solid blue"},T=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).updateInput=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.addDocket=function(t){t.preventDefault();var a=D.doc();a.set({id:a.id,activityName:e.state.activityName,company:e.state.company,site:e.state.site,ccNumber:e.state.ccNumber}),e.setState({activityName:"",company:"",ccNumber:"",site:"",id:""})},e.state={activityName:"",company:"",ccNumber:"",site:"",id:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Enter Activity"}),c.a.createElement("div",{style:S},c.a.createElement("br",null),"Activity name ",this.state.activityName,c.a.createElement("form",{onSubmit:this.addDocket},c.a.createElement("input",{type:"text",name:"activityName",placeholder:"Activity Name",onChange:this.updateInput,value:this.state.activityName}),c.a.createElement("select",{name:"company",onChange:this.updateInput,value:this.state.company},c.a.createElement("option",{value:"cndd"},"CNDD"),c.a.createElement("option",{value:"cycon"},"CYCON"),c.a.createElement("option",{value:"atkins"},"ATKINS"),c.a.createElement("option",{value:"SOM"},"SOM")),c.a.createElement("input",{type:"text",name:"ccNumber",placeholder:"Enter CostCode",onChange:this.updateInput,value:this.state.ccNumber}),c.a.createElement("input",{type:"text",name:"site",placeholder:"Enter Site",onChange:this.updateInput,value:this.state.site}),c.a.createElement("button",{type:"submit"},"send"))))}}]),t}(c.a.Component),A=(a(154),a(67));A().format();var w=v.firestore(),I=w.collection("user").doc("joe"),R=w.collection("activity"),M=w.collection("docket"),H=w.collection("docketNumber").doc("docketNumber"),W=new Date,U=W.getDate()+"-"+(W.getMonth()+1)+"-"+W.getFullYear(),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).updateInput=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.state={date:U,companyName:"",contactNumber:"",firstName:"",hourlyRate:"",lastName:"",overtimeRate:"",position:"",totalHours:"",activityName:"",ccNumber:"",company:"",id:"",site:"",pay:"",status:"pending",startTime:"",endTime:"",breakTime:"",docketNumber:0,timeStamp:0},a.readUser=a.readUser.bind(Object(g.a)(a)),a.readActivity=a.readActivity.bind(Object(g.a)(a)),a.readDocketNumber=a.readDocketNumber.bind(Object(g.a)(a)),a.addDocket=a.addDocket.bind(Object(g.a)(a)),a.calc=a.calc.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.readDocketNumber(),this.readActivity(),this.readUser()}},{key:"readDocketNumber",value:function(){var e=this;H.get().then(function(t){e.setState({docketNumber:t.data().number})})}},{key:"readUser",value:function(){var e=this;I.get().then(function(t){e.setState({companyName:t.data().companyName,contactNumber:t.data().contactNumber,firstName:t.data().firstName,hourlyRate:t.data().hourlyRate,lastName:t.data().lastName,overtimeRate:t.data().overtimeRate,position:t.data().position})})}},{key:"readActivity",value:function(){var e=this;R.doc("".concat(this.props.userID)).get().then(function(t){e.setState({activityName:t.data().activityName,ccNumber:t.data().ccNumber,company:t.data().company,id:t.data().id,site:t.data().site})})}},{key:"calc",value:function(){var e=this,t=A(this.state.startTime,"HH::mm A"),a=A(this.state.endTime,"HH::mm A"),n=this.state.breakTime/60,c=A.duration(a.diff(t)).asHours()-n,l=this.state.hourlyRate*c;this.setState({totalHours:c,pay:l},function(){e.addDocket()})}},{key:"addDocket",value:function(){var e=M.doc();e.set({companyName:this.state.companyName,contactNumber:this.state.contactNumber,firstName:this.state.firstName,hourlyRate:this.state.hourlyRate,lastName:this.state.lastName,overtimeRate:this.state.overtimeRate,position:this.state.position,totalHours:this.state.totalHours,activityName:this.state.activityName,ccNumber:this.state.ccNumber,company:this.state.company,id:e.id,site:this.state.site,payAmount:this.state.pay,status:"pending",startTime:this.state.startTime,endTime:this.state.endTime,breakTimethis:this.state.breakTime,docketNumber:this.state.docketNumber,supervisorComment:"",engineerComment:"",timeStamp:v.firestore.FieldValue.serverTimestamp()}),w.collection("docketNumber").doc("docketNumber").set({number:this.state.docketNumber+1})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Docket Entry"}),c.a.createElement("div",{className:"docketentry"},c.a.createElement("h3",null,"Docket Entry for ",this.state.activityName," at ",this.state.site),c.a.createElement("br",null),c.a.createElement("h3",null,"Date:",this.state.date),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("label",{for:"startTime"},"Enter Start Time"),c.a.createElement("input",{type:"time",name:"startTime",value:this.state.startTime,onChange:this.updateInput,required:!0})),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("label",{for:"startTime"},"Enter End Time"),c.a.createElement("input",{type:"time",name:"endTime",value:this.state.endTime,onChange:this.updateInput,required:!0})),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("label",{for:"breakTime"},"Break(mins)"),c.a.createElement("input",{className:"breaktime",type:"number",name:"breakTime",value:this.state.breakTime,onChange:this.updateInput,required:!0})),c.a.createElement("button",{onClick:this.calc},"Agree to terms"),c.a.createElement(r.a,{to:"/confirm"},c.a.createElement("button",null,"Send"))))}}]),t}(n.Component),F=v.firestore().collection("docket"),_=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).deleteDocket=function(e){F.doc(e.target.value).delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.error("Error removing document: ",e)})},e.handleChange=function(t){var a=t.target;e.setState(Object(O.a)({},a.name,a.value))},e.state={items:[]},e.changeclass=e.changeclass.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;F.onSnapshot(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({items:a,loaded:!0})})}},{key:"renderDockets",value:function(){var e=this,t=this.state.items.map(function(t,a){if("pending"===t.status)return c.a.createElement("li",{key:t.id,id:t.id,className:t.status},c.a.createElement("div",null,c.a.createElement("h5",null,"Company Name : ",t.companyName),c.a.createElement("h5",null,"Docket Number : ",t.docketNumber),c.a.createElement("h5",null,"Activity : ",t.activityName),c.a.createElement("h5",null,"Approval : ",t.status)),c.a.createElement("button",{className:"delete",value:t.id,onClick:e.deleteDocket},"X"),c.a.createElement("button",{className:"list",onClick:function(){return Object(r.c)("/docketdetails/".concat(t.id))}},c.a.createElement("div",null),"View"))}),a=this.state.items.map(function(t,a){if("approved"===t.status)return c.a.createElement("li",{key:t.id,id:t.id,className:t.status},c.a.createElement("div",null,c.a.createElement("h5",null,"Company Name : ",t.companyName),c.a.createElement("h5",null,"Activity : ",t.activityName),c.a.createElement("h5",null,"Approval : ",t.status)),c.a.createElement("button",{className:"delete",value:t.id,onClick:e.deleteDocket},"X"),c.a.createElement("button",{className:"list",onClick:function(){return Object(r.c)("/docketdetails/".concat(t.id))}},c.a.createElement("div",null),"View"))}),n=this.state.items.map(function(t,a){if("rejected"===t.status)return c.a.createElement("li",{key:t.id,id:t.id,className:t.status},c.a.createElement("div",null,c.a.createElement("h5",null,"Company Name : ",t.companyName),c.a.createElement("h5",null,"Activity : ",t.activityName),c.a.createElement("h5",null,"Approval : ",t.status)),c.a.createElement("button",{className:"delete",value:t.id,onClick:e.deleteDocket},"X"),c.a.createElement("button",{className:"list",onClick:function(){return Object(r.c)("/docketdetails/".concat(t.id))}},c.a.createElement("div",null),"View"))});return c.a.createElement("ul",null,c.a.createElement("div",null,c.a.createElement("h4",null,"Pending"),t),c.a.createElement("div",null,c.a.createElement("h4",null,"Approved"),a),c.a.createElement("div",null,c.a.createElement("h4",null,"Rejected"),n))}},{key:"changeclass",value:function(){F.onUpdate(function(e,t){e.forEach(function(e){console.log("hey")})})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Docket List"}),this.renderDockets())}}]),t}(n.Component),x=v.firestore().collection("docket"),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={companyName:"",contactNumber:"",firstName:"",hourlyRate:"",lastName:"",overtimeRate:"",position:"",totalHours:"",activityName:"",ccNumber:"",company:"",id:"",site:"",status:"",startTime:"",endTime:"",break:"",docketNumber:"",dateCreated:""},a.readDocket=a.readDocket.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.readDocket()}},{key:"readDocket",value:function(){var e=this;x.doc("".concat(this.props.userID)).get().then(function(t){var a=t.data().timeStamp;console.log(a);var n=a.toDate();console.log(n);var c=n.getDate(),l=n.getMonth()+1,i=n.getFullYear(),r=n.getHours(),o=r>=12?"pm":"am";r=(r%=12)||12;var s=n.getMinutes();s=s<10?"0"+s:s;var m="".concat(c,"-").concat(l,"-").concat(i),u="".concat(r,":").concat(s," ").concat(o);console.log(c),console.log(l),console.log(i),console.log(m),console.log(u),e.setState({activityName:t.data().activityName,ccNumber:t.data().ccNumber,company:t.data().company,id:t.data().id,site:t.data().site,companyName:t.data().companyName,contactNumber:t.data().contactNumber,firstName:t.data().firstName,hourlyRate:t.data().hourlyRate,lastName:t.data().lastName,overtimeRate:t.data().overtimeRate,position:t.data().position,payAmount:t.data().payAmount,totalHours:t.data().totalHours,startTime:t.data().startTime,endTime:t.data().endTime,breakTimethis:t.data().breakTimethis,status:t.data().status,docketNumber:t.data().docketNumber,dateCreated:m,time:u,supervisorComment:t.data().supervisorComment,engineerComment:t.data().engineerComment})})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Docket Details"}),c.a.createElement("div",{className:"docketDetails"},"Company name ",this.state.companyName,c.a.createElement("br",null),"Name ",this.state.firstName,c.a.createElement("br",null),"Activity ",this.state.activityName,c.a.createElement("br",null),"Start Time ",this.state.startTime,c.a.createElement("br",null),"End Time ",this.state.endTime,c.a.createElement("br",null),"Break ",this.state.breakTimethis," mins",c.a.createElement("br",null),"Status ",this.state.status,c.a.createElement("br",null),c.a.createElement("br",null),"Docket Number ",this.state.docketNumber,c.a.createElement("br",null),"Date Created ",this.state.dateCreated," at ",this.state.time,c.a.createElement("br",null),c.a.createElement("br",null),"Supervisor Notes ",this.state.supervisorComment,c.a.createElement("br",null),"          ",c.a.createElement("br",null),"Engineer Notes ",this.state.engineerComment,c.a.createElement("br",null)))}}]),t}(c.a.Component),P=v.firestore().collection("docket"),V=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={items:[],sumArray:[],sum:0},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;P.onSnapshot(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({items:a,loaded:!0})})}},{key:"renderDockets",value:function(){var e=this.state.items.map(function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("div",null,c.a.createElement("h5",null,"Company Name : ",e.company),c.a.createElement("h5",null,"Docket Number : ",e.docketNumber),c.a.createElement("h5",null,"Activity : ",e.activityName),c.a.createElement("h5",null,"Approval : ",e.status)),c.a.createElement("button",{className:"view",onClick:function(){return Object(r.c)("/docketdetailsapproval/".concat(e.id))}},c.a.createElement("div",null),"view"))});return c.a.createElement("ul",null,e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"father"},c.a.createElement(f,{pageName:"Docket Approval"}),c.a.createElement("div",{className:"approval"},c.a.createElement("h3",null,"Approval stage"),c.a.createElement("br",null),c.a.createElement("h3",null),this.renderDockets()))}}]),t}(n.Component),X=v.firestore().collection("docket"),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).deleteDocket=function(e){X.doc(e.target.value).delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.error("Error removing document: ",e)})},a.holdDocket=function(e){X.doc(e.target.value).update({status:"pending"})},a.approveDocket=function(e){X.doc(e.target.value).update({status:"approved"})},a.rejectDocket=function(e){X.doc(e.target.value).update({status:"rejected"})},a.updateInput=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.navigateConfirm=function(e){Object(r.c)("/confirmation/".concat(a.state.id,"/").concat(a.state.status),{name:a.state.firstName})},a.sendForConfirmation=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value),function(){return a.navigateConfirm()})},a.state={companyName:"",contactNumber:"",firstName:"",hourlyRate:"",lastName:"",overtimeRate:"",position:"",totalHours:"",activityName:"",ccNumber:"",company:"",id:"",site:"",status:"",comment:"",startTime:"",endTime:"",break:""},a.readDocket=a.readDocket.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.readDocket()}},{key:"readDocket",value:function(){var e=this;X.doc("".concat(this.props.userID)).get().then(function(t){var a;e.setState((a={activityName:t.data().activityName,ccNumber:t.data().ccNumber,company:t.data().company,id:t.data().id,site:t.data().site},Object(O.a)(a,"ccNumber",t.data().ccNumber),Object(O.a)(a,"companyName",t.data().companyName),Object(O.a)(a,"contactNumber",t.data().contactNumber),Object(O.a)(a,"firstName",t.data().firstName),Object(O.a)(a,"hourlyRate",t.data().hourlyRate),Object(O.a)(a,"lastName",t.data().lastName),Object(O.a)(a,"overtimeRate",t.data().overtimeRate),Object(O.a)(a,"position",t.data().position),Object(O.a)(a,"payAmount",t.data().payAmount),Object(O.a)(a,"totalHours",t.data().totalHours),Object(O.a)(a,"startTime",t.data().startTime),Object(O.a)(a,"endTime",t.data().endTime),Object(O.a)(a,"breakTimethis",t.data().breakTimethis),Object(O.a)(a,"status",t.data().status),Object(O.a)(a,"supervisorComment",t.data().supervisorComment),a))})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Docket Details"}),c.a.createElement("div",{className:"docketDetails"},"Company name ",this.state.companyName,c.a.createElement("br",null),"Name ",this.state.firstName,c.a.createElement("br",null),"Activity ",this.state.activityName,c.a.createElement("br",null),"CostCode ",this.state.ccNumber,c.a.createElement("br",null),"Start Time ",this.state.startTime,c.a.createElement("br",null),"End Time ",this.state.endTime,c.a.createElement("br",null),"Break ",this.state.breakTimethis," mins",c.a.createElement("br",null),"Status ",this.state.status,c.a.createElement("br",null),c.a.createElement("h3",null," Payment Due $",this.state.payAmount),c.a.createElement("br",null),c.a.createElement("h3",null," Your Comments ",this.state.supervisorComment),c.a.createElement("br",null),c.a.createElement("div",{className:"approveButtons"},c.a.createElement("button",{className:"rejected",name:"status",value:"rejected",onClick:this.sendForConfirmation},"X"),c.a.createElement("button",{className:"approved",name:"status",value:"approved",onClick:this.sendForConfirmation}," ","\u2713"),c.a.createElement("button",{className:"pending",name:"status",value:"pending",onClick:this.sendForConfirmation},"II"),c.a.createElement("br",null))))}}]),t}(c.a.Component),q=v.firestore(),Y=q.collection("docket"),J=q.collection("activity"),z=9699,K=[],G=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleClick=function(){console.log("working"),e.setState({flag:1})},e.handleClick_1=function(){console.log("working"),e.setState({flag:2}),e.calcCost()},e.state={sumArray:[],ccArray:[],costArray:[],sum:0,testSum:10,loading:!0,test:[],neee:[],flag:0},e.calcSum=e.calcSum.bind(Object(g.a)(e)),e.listCostCodes=e.listCostCodes.bind(Object(g.a)(e)),e.mapCostCodes=e.mapCostCodes.bind(Object(g.a)(e)),e.calcCost=e.calcCost.bind(Object(g.a)(e)),e.handleClick=e.handleClick.bind(Object(g.a)(e)),e.handleClick_1=e.handleClick_1.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.calcSum(),this.calcCost()}},{key:"calcSum",value:function(){var e=this,t=[];Y.where("payAmount",">",0).get().then(function(a){a.forEach(function(e){t.push(e.data().payAmount)}),e.setState({sumArray:t});var n=t.reduce(function(e,t){return e+t},0);e.setState({sum:n},function(){e.listCostCodes()})})}},{key:"listCostCodes",value:function(){var e=this,t=[];J.get().then(function(a){a.forEach(function(e){t.push(e.data().ccNumber)}),console.log("cc aray is ".concat(t)),e.setState({ccArray:t},function(){e.calcCost()})})}},{key:"calcCost",value:function(){var e=this,t=this.state.ccArray.map(function(a,n){var l=[];return Y.where("ccNumber","==","".concat(a)).get().then(function(c){c.forEach(function(e){l.push(e.data().payAmount),console.log("---------START-------"),console.log("i have set the state")}),z=l.reduce(function(e,t){return e+t},0),K[n]=z,e.setState({neee:K,CostCodeMap:t}),console.log("this is the final sum bruhssss ".concat(e.state.neee)),console.log(z),console.log("the key is ".concat(n)),console.log("the cost code is step 2 ".concat(a)),console.log("the holder cost at ".concat(n," is ").concat(K[n]))}).then(function(){console.log("---------END-------")}),console.log("---------Im rendering-------"),c.a.createElement("div",{key:n},c.a.createElement("li",{key:n},"the cost code of ",a," cost is ",e.state.neee[n]))});this.setState({CostCodeMap:t})}},{key:"mapCostCodes",value:function(){return c.a.createElement("ul",null,c.a.createElement("div",null,c.a.createElement("h4",null,"CostCode"),this.state.CostCodeMap))}},{key:"render",value:function(){return console.log("DOM UPDATE"),0==this.state.flag?c.a.createElement("div",null,c.a.createElement(f,{pageName:"Dashboard"}),c.a.createElement("div",null,c.a.createElement("h1",null,"SUM :$ ",this.state.sum),c.a.createElement("p",null,"This is the Dashboard sdfasd"),c.a.createElement("button",{type:"button",onClick:this.handleClick},"Project"))):1==this.state.flag?c.a.createElement("div",null,c.a.createElement(f,{pageName:"Dashboard"}),c.a.createElement("div",null,c.a.createElement("h1",null,"SUM :$ ",this.state.sum),c.a.createElement("p",null,"This is the Dashboard sdfasd"),c.a.createElement("button",{type:"button",onClick:this.handleClick_1},"Cost to Date"))):c.a.createElement("div",null,c.a.createElement(f,{pageName:"Dashboard"}),c.a.createElement("div",null,c.a.createElement("h1",null,"SUM :$ ",this.state.sum),c.a.createElement("p",null,"This is the Dashboard sdfasd"),c.a.createElement("button",{type:"button",onClick:this.calcCost},"refresh"),c.a.createElement("div",null,this.mapCostCodes())))}}]),t}(c.a.Component),Q=a(67);Q().format();c.a.Component;var Z=a(70),ee=a.n(Z),te=v.firestore().collection("docket"),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).docketStatus=function(e){te.doc(a.props.userID).update({status:a.state.status,supervisorComment:a.state.sComment})},a.updateInput=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.state={status:a.props.status,sComment:""},a.docketStatus=a.docketStatus.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Confirmation"}),c.a.createElement("div",null,c.a.createElement("p",null,"This is the Confirmation ",this.props.status," ",this.props.userID),c.a.createElement("div",{className:"sig"},c.a.createElement(ee.a,{penColor:"black",canvasProps:{width:200,height:200,className:"sig__Canvas"}})),c.a.createElement("button",{onClick:this.docketStatus},"hello"),c.a.createElement("textarea",{name:"sComment",id:"sComment",cols:"30",rows:"10",value:this.state.comment,onChange:this.updateInput})))}}]),t}(c.a.Component),ne=v.firestore().collection("docket"),ce=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).deleteDocket=function(e){ne.doc(e.target.value).delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.error("Error removing document: ",e)})},e.handleChange=function(t){var a=t.target;e.setState(Object(O.a)({},a.name,a.value))},e.state={items:[]},e.changeclass=e.changeclass.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;ne.onSnapshot(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({items:a,loaded:!0})})}},{key:"renderDockets",value:function(){var e=this.state.items.map(function(e,t){if("approved"===e.status)return c.a.createElement("li",{key:e.id,id:e.id,className:e.status},c.a.createElement("div",null,c.a.createElement("h5",null,"Company Name : ",e.companyName),c.a.createElement("h5",null,"Name : ",e.firstName),c.a.createElement("h5",null,"Docket No : ",e.docketNumber),c.a.createElement("h5",null,"Start Time : ",e.startTime),c.a.createElement("h5",null,"End Time : ",e.endTime),c.a.createElement("h5",null,"Hours Worked : ",e.totalHours),c.a.createElement("h5",null,"Inclement Weather : this is pending, might have to assign it in the activity itself"),c.a.createElement("h5",null,"Cost Code : ",e.ccNumber)),c.a.createElement("button",{className:"list",onClick:function(){return Object(r.c)("/docketdetailsapproval/".concat(e.id))}},c.a.createElement("div",null),"View"))});return c.a.createElement("ul",null,c.a.createElement("div",null,c.a.createElement("h4",null,"Approved"),e))}},{key:"changeclass",value:function(){ne.onUpdate(function(e,t){e.forEach(function(e){console.log("hey")})})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{pageName:"Engineer Approval"}),this.renderDockets())}}]),t}(n.Component);i.a.render(c.a.createElement("div",null,c.a.createElement(r.b,{path:"/DMS_Final/"},c.a.createElement(y,{path:"/"}),c.a.createElement(k,{path:"/home"}),c.a.createElement(j,{path:"/activity"}),c.a.createElement(T,{path:"/activityenter"}),c.a.createElement(L,{path:"/docketentry/:userID"}),c.a.createElement(_,{path:"/listdockets"}),c.a.createElement(B,{path:"/docketdetails/:userID"}),c.a.createElement(V,{path:"/approval"}),c.a.createElement($,{path:"docketdetailsapproval/:userID"}),c.a.createElement(G,{path:"/dashboard"}),c.a.createElement(ae,{path:"/confirmation/:userID/:status"}),c.a.createElement(ce,{path:"/listdocketsengineer"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},71:function(e,t,a){e.exports=a(157)},83:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.473d9244.chunk.js.map